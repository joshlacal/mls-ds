// @generated - This file is generated by atrium-codegen. DO NOT EDIT.
//!Definitions for the `blue.catbird.mls.streamConvoEvents` namespace.
//!Server-Sent Events stream for conversation updates (messages, reactions, typing indicators)
pub const NSID: &str = "blue.catbird.mls.streamConvoEvents";
#[derive(serde::Serialize, serde::Deserialize, Debug, Clone, PartialEq, Eq)]
#[serde(rename_all = "camelCase")]
pub struct ParametersData {
    ///Optional conversation filter (only receive events for this conversation).
    #[serde(skip_serializing_if = "core::option::Option::is_none")]
    pub convo_id: core::option::Option<String>,
    ///Opaque resume cursor. If provided, resume after this position.
    #[serde(skip_serializing_if = "core::option::Option::is_none")]
    pub cursor: core::option::Option<String>,
}
pub type Parameters = crate::types::Object<ParametersData>;
///Server-Sent Events stream
pub type Output = EventWrapper;
#[derive(serde::Serialize, serde::Deserialize, Debug, Clone, PartialEq, Eq)]
#[serde(tag = "error", content = "message")]
pub enum Error {}
impl std::fmt::Display for Error {
    fn fmt(&self, _f: &mut std::fmt::Formatter) -> std::fmt::Result {
        Ok(())
    }
}
///Wrapper for stream events
#[derive(serde::Serialize, serde::Deserialize, Debug, Clone, PartialEq, Eq)]
#[serde(rename_all = "camelCase")]
pub struct EventWrapperData {
    ///The actual event (message, reaction, typing, or info)
    pub event: crate::types::Union<EventWrapperEventRefs>,
}
pub type EventWrapper = crate::types::Object<EventWrapperData>;
///Event carrying informational messages (heartbeat or notices)
#[derive(serde::Serialize, serde::Deserialize, Debug, Clone, PartialEq, Eq)]
#[serde(rename_all = "camelCase")]
pub struct InfoEventData {
    ///Resume cursor for this event position
    pub cursor: String,
    ///Human-readable info or keep-alive message
    pub info: String,
}
pub type InfoEvent = crate::types::Object<InfoEventData>;
///Event for a newly sent message
#[derive(serde::Serialize, serde::Deserialize, Debug, Clone, PartialEq, Eq)]
#[serde(rename_all = "camelCase")]
pub struct MessageEventData {
    ///Resume cursor for this event position
    pub cursor: String,
    pub message: crate::blue::catbird::mls::defs::MessageView,
}
pub type MessageEvent = crate::types::Object<MessageEventData>;
///Event for a reaction added or removed
#[derive(serde::Serialize, serde::Deserialize, Debug, Clone, PartialEq, Eq)]
#[serde(rename_all = "camelCase")]
pub struct ReactionEventData {
    ///Action performed: 'add' or 'remove'
    pub action: String,
    ///Conversation identifier
    pub convo_id: String,
    ///Resume cursor for this event position
    pub cursor: String,
    ///DID of the user who performed the reaction
    pub did: crate::types::string::Did,
    ///ID of the message that was reacted to
    pub message_id: String,
    ///Reaction content (emoji or short code)
    pub reaction: String,
}
pub type ReactionEvent = crate::types::Object<ReactionEventData>;
///Event indicating a user is typing
#[derive(serde::Serialize, serde::Deserialize, Debug, Clone, PartialEq, Eq)]
#[serde(rename_all = "camelCase")]
pub struct TypingEventData {
    ///Conversation identifier
    pub convo_id: String,
    ///Resume cursor for this event position
    pub cursor: String,
    ///DID of the user typing
    pub did: crate::types::string::Did,
    ///True if the user started typing, false if they stopped
    pub is_typing: bool,
}
pub type TypingEvent = crate::types::Object<TypingEventData>;
#[derive(serde::Serialize, serde::Deserialize, Debug, Clone, PartialEq, Eq)]
#[serde(tag = "$type")]
pub enum EventWrapperEventRefs {
    #[serde(rename = "blue.catbird.mls.streamConvoEvents#messageEvent")]
    MessageEvent(Box<MessageEvent>),
    #[serde(rename = "blue.catbird.mls.streamConvoEvents#reactionEvent")]
    ReactionEvent(Box<ReactionEvent>),
    #[serde(rename = "blue.catbird.mls.streamConvoEvents#typingEvent")]
    TypingEvent(Box<TypingEvent>),
    #[serde(rename = "blue.catbird.mls.streamConvoEvents#infoEvent")]
    InfoEvent(Box<InfoEvent>),
}
