// @generated - This file is generated by atrium-codegen. DO NOT EDIT.
//!Definitions for the `blue.catbird.mls.getReports` namespace.
//!Get reports for a conversation (admin-only)
pub const NSID: &str = "blue.catbird.mls.getReports";
#[derive(serde::Serialize, serde::Deserialize, Debug, Clone, PartialEq, Eq)]
#[serde(rename_all = "camelCase")]
pub struct ParametersData {
    ///Conversation identifier
    pub convo_id: String,
    ///Maximum number of reports to return
    #[serde(skip_serializing_if = "core::option::Option::is_none")]
    pub limit: core::option::Option<crate::types::LimitedNonZeroU8<100u8>>,
    ///Filter by report status
    #[serde(skip_serializing_if = "core::option::Option::is_none")]
    pub status: core::option::Option<String>,
}
pub type Parameters = crate::types::Object<ParametersData>;
#[derive(serde::Serialize, serde::Deserialize, Debug, Clone, PartialEq, Eq)]
#[serde(rename_all = "camelCase")]
pub struct OutputData {
    ///List of reports (encrypted content)
    pub reports: Vec<ReportView>,
}
pub type Output = crate::types::Object<OutputData>;
#[derive(serde::Serialize, serde::Deserialize, Debug, Clone, PartialEq, Eq)]
#[serde(tag = "error", content = "message")]
pub enum Error {
    ///Caller is not an admin
    NotAdmin(Option<String>),
    ///Conversation not found
    ConvoNotFound(Option<String>),
}
impl std::fmt::Display for Error {
    fn fmt(&self, _f: &mut std::fmt::Formatter) -> std::fmt::Result {
        match self {
            Error::NotAdmin(msg) => {
                write!(_f, "NotAdmin")?;
                if let Some(msg) = msg {
                    write!(_f, ": {msg}")?;
                }
            }
            Error::ConvoNotFound(msg) => {
                write!(_f, "ConvoNotFound")?;
                if let Some(msg) = msg {
                    write!(_f, ": {msg}")?;
                }
            }
        }
        Ok(())
    }
}
///Report metadata and encrypted content blob
#[derive(serde::Serialize, serde::Deserialize, Debug, Clone, PartialEq, Eq)]
#[serde(rename_all = "camelCase")]
pub struct ReportViewData {
    ///When report was submitted
    pub created_at: crate::types::string::Datetime,
    ///Encrypted report content (admin must decrypt locally)
    #[serde(with = "serde_bytes")]
    pub encrypted_content: Vec<u8>,
    ///Report identifier
    pub id: String,
    ///DID of reported member
    pub reported_did: crate::types::string::Did,
    ///DID of member who submitted report
    pub reporter_did: crate::types::string::Did,
    ///When report was resolved
    #[serde(skip_serializing_if = "core::option::Option::is_none")]
    pub resolved_at: core::option::Option<crate::types::string::Datetime>,
    ///DID of admin who resolved report
    #[serde(skip_serializing_if = "core::option::Option::is_none")]
    pub resolved_by: core::option::Option<crate::types::string::Did>,
    ///Report status
    pub status: String,
}
pub type ReportView = crate::types::Object<ReportViewData>;
